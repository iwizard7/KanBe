#!/bin/bash

# –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ KanBe –Ω–∞ Raspberry Pi

echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ KanBe –Ω–∞ Raspberry Pi..."
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ install.sh
if [ ! -f "install.sh" ]; then
    echo "‚ùå –§–∞–π–ª install.sh –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è NODE_OPTIONS –≤ install.sh
if grep -q "max-old-space-size-semispace" install.sh; then
    echo "‚ùå –ù–∞–π–¥–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–ª–∞–≥ max-old-space-size-semispace –≤ install.sh"
    exit 1
else
    echo "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–ª–∞–≥ NODE_OPTIONS –Ω–∞–π–¥–µ–Ω –≤ install.sh"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ –ø–∞–º—è—Ç–∏
if grep -q "max-old-space-size=1024" install.sh; then
    echo "‚úÖ –õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 1024MB"
else
    echo "‚ùå –õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –Ω–µ —É–≤–µ–ª–∏—á–µ–Ω"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–ª–∞–≥–∞ --no-package-lock
if grep -q "no-package-lock" install.sh; then
    echo "‚úÖ –§–ª–∞–≥ --no-package-lock –¥–æ–±–∞–≤–ª–µ–Ω"
else
    echo "‚ùå –§–ª–∞–≥ --no-package-lock –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ç–∞–π–º–∞—É—Ç–∞
if grep -q "timeout=900000" install.sh; then
    echo "‚úÖ –¢–∞–π–º–∞—É—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 900 —Å–µ–∫—É–Ω–¥"
else
    echo "‚ùå –¢–∞–π–º–∞—É—Ç –Ω–µ —É–≤–µ–ª–∏—á–µ–Ω"
    exit 1
fi

echo ""
echo "üéâ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!"
echo ""
echo "üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Raspberry Pi:"
echo "1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π install.sh –Ω–∞ Raspberry Pi"
echo "2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: chmod +x install.sh"
echo "3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: ./install.sh"
echo "4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏"
echo ""
echo "üîç –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:"
echo "‚Ä¢ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–ª–∞–≥ --max-old-space-size-semispace –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ --max-old-space-size"
echo "‚Ä¢ –õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ —É–≤–µ–ª–∏—á–µ–Ω —Å 512MB –¥–æ 1024MB"
echo "‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ --no-package-lock –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤"
echo "‚Ä¢ –¢–∞–π–º–∞—É—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 900 —Å–µ–∫—É–Ω–¥ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º"
echo ""
echo "üöÄ –£–¥–∞—á–∏ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π KanBe –Ω–∞ Raspberry Pi!"
